Helpers.ensureNamespace('Amplifier.AbTests.Models');

Amplifier.AbTests.Models.AvailabilityInfo = Backbone.Model.extend({
  defaults: {
    numberOfUsersSelected: 0,
    a
  },

  url: '/admin/ab_tests/availability_info',

  sync: function (method, model, options) {
    // We must have partner_id, start_at, and end_at to get availability info.
    if (!this.isValid(options.data)) { return; }

    Backbone.sync.call(model, method, model, options);
  },

  isValid: function (data) {
    return _.chain(data)
            .omit('region_id')
            .filter(function (value) { return value; })
            .value()
            .length === 3;
  }
});
